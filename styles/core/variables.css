/* ===================================
   The Garden Fence - Optimistic UI
   Focusing on Boundaries & Blooms
   =================================== */

/* CSS Variables */
:root {
    /* ===========================================
       Light Mode Surfaces (Paper System)
       - No pure white for large surfaces
       - 3-level hierarchy: app wash → card → raised
       =========================================== */
    --surface-0: #EAF4F2; /* app background wash */
    --surface-1: #F2F7F6; /* default card/panel */
    --surface-2: #FAFCFB; /* raised/active/selected */

    /* Base colors - mapped to surface system */
    --bg-base: var(--surface-0);
    --bg-surface: var(--surface-1);
    --bg-elevated: var(--surface-2);
    --bg-hover: rgba(31, 45, 42, 0.04);
    --bg-active: rgba(31, 45, 42, 0.07);

    /* Glass effects - Soft & Gentle */
    --divider: rgba(0, 0, 0, 0.06);
    --glass-bg: rgba(242, 247, 246, 0.86);
    --glass-border: rgba(31, 45, 42, 0.08);
    --glass-shine: rgba(250, 252, 251, 0.55);

    /* Text hierarchy - Optimized for day mode (dark text on light backgrounds) */
    --text-primary: #1F2D2A;
    --text-secondary: #4B6761;
    --text-tertiary: rgba(31, 45, 42, 0.64);
    --text-ghost: rgba(31, 45, 42, 0.48);

    /* Daylight Garden Colors (Vibrant Primary) */
    --sage: #5A9B8D;
    /* saturated leaf green */
    --teal: #4A9099;
    /* primary garden blue */
    /* Clay removed - using coral instead for earth tones */
    --coral: #B8472F;
    /* warm earth tone */
    --terracotta: var(--coral);
    /* legacy alias (used in gradients/themes) */
    --earth: var(--coral);
    /* legacy alias (used in a few components) */
    --sky: #8CB7D9;
    /* legacy alias (used in accent themes) */
    --sunset: #E77D3E;
    /* vibrant orange spice (DMC 722) */
    --petal: #E59AA0;
    /* bright floral pink */
    --amber: #F4A460;
    /* bright sunlight */
    --indigo: #4F46E5;
    /* deep indigo */
    --violet: #6D28D9;
    /* vibrant violet */
    --rose: #E11D48;
    /* rose red */
    --coral: #B8472F;
    /* warm coral */
    --mint: #10B981;
    /* fresh mint */

    /* Rainbow Accent System - Different colors for different elements */
    --accent: var(--teal);  /* Primary accent (buttons, main actions) */
    --accent-hover: #5AAAB2;
    --accent-muted: rgba(74, 144, 153, 0.16);
    --accent-subtle: rgba(74, 144, 153, 0.08);
    
    /* Rainbow accents for different UI elements */
    --accent-button: var(--teal);  /* Primary buttons */
    --accent-active: var(--sage);  /* Active states, selected items */
    --accent-border: var(--sky);  /* Borders, dividers */
    --accent-highlight: var(--petal);  /* Highlights, focus rings */
    --accent-link: var(--indigo);  /* Links, interactive text */
    --accent-badge: var(--amber);  /* Badges, tags */
    --accent-progress: var(--sunset);  /* Progress bars, meters */
    --accent-icon: var(--violet);  /* Icons, decorative elements */

    /* Month card transparency */
    --month-card-bg: rgba(242, 247, 246, 0.62);
    --month-card-bg-hover: rgba(250, 252, 251, 0.72);
    --month-card-past-grey: rgba(160, 160, 160, 0.12);
    --month-card-past-grey-hover: rgba(160, 160, 160, 0.18);

    /* Semantic colors */
    --success: #5A9B8D;
    --success-muted: rgba(90, 155, 141, 0.12);
    --warning: var(--sunset);
    --warning-muted: rgba(244, 162, 97, 0.12);
    --danger: var(--coral);
    --danger-muted: rgba(184, 71, 47, 0.12);
    --info: #4A90E2;
    /* primary blue */
    --info-muted: rgba(74, 144, 226, 0.12);

    /* Category colors */
    --cat-career: #4A90E2;
    /* Primary Blue */
    --cat-career-muted: rgba(74, 144, 226, 0.12);
    --cat-health: #5A9B8D;
    /* Primary Green */
    --cat-health-muted: rgba(90, 155, 141, 0.12);
    --cat-finance: var(--amber);
    /* Primary Yellow */
    --cat-finance-muted: rgba(240, 180, 41, 0.12);
    --cat-personal: var(--petal);
    --cat-personal-muted: rgba(229, 154, 160, 0.12);
    --cat-creative: #9F7AEA;
    /* Vibrant Purple */
    --cat-creative-muted: rgba(159, 122, 234, 0.12);

    /* Priority indicators */
    --priority-low: var(--text-tertiary);
    --priority-medium: var(--teal);
    --priority-high: var(--sunset);
    --priority-urgent: var(--coral);

    /* Spacing scale */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;

    /* Border radius - Softened */
    --radius-sm: 8px;
    --radius-md: 16px;
    --radius-lg: 24px;
    --radius-xl: 32px;
    --radius-full: 9999px;

    /* Transitions */
    --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
    --duration-fast: 150ms;
    --duration-normal: 250ms;
    --duration-slow: 400ms;

    /* Shadows */
    /* Shadows - Softened */
    --shadow-xs: 0 3px 10px rgba(0, 0, 0, 0.05);
    --shadow-sm: 0 6px 18px rgba(0, 0, 0, 0.06);
    --shadow-md: 0 16px 36px rgba(0, 0, 0, 0.08);
    --shadow-lg: 0 26px 56px rgba(0, 0, 0, 0.10);
    --shadow-xl: 0 40px 90px rgba(0, 0, 0, 0.12);
    --shadow-glow: 0 0 24px rgba(111, 155, 134, 0.14);
    --shadow-glow-sm: 0 0 12px rgba(111, 155, 134, 0.10);

    /* Typography */
    --font-sans:
        "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
        sans-serif;
    --font-mono: "JetBrains Mono", "SF Mono", Monaco, monospace;
    --font-display: 'Lexend', var(--font-sans);

    /* Font sizes */
    --text-xs: 0.6875rem;
    --text-sm: 0.8125rem;
    --text-base: 0.9375rem;
    --text-lg: 1.0625rem;
    --text-xl: 1.25rem;
    --text-2xl: 1.5rem;
    --text-3xl: 2rem;

    /* ===========================================
       Common Pattern Utilities
       =========================================== */
    
    /* Card styles */
    --card-bg: var(--surface-1);
    --card-border: 1px solid var(--divider);
    --card-radius: var(--radius-lg);
    --card-shadow: var(--shadow-sm);
    --card-padding: var(--space-4);
    
    /* Interactive element states */
    --focus-ring: 0 0 0 2px var(--accent-muted);
    --focus-ring-offset: 0 0 0 4px var(--bg-base);
    
    /* Section spacing */
    --section-gap: var(--space-6);
    --item-gap: var(--space-3);
    
    /* Input styles */
    --input-bg: var(--surface-2);
    --input-border: 1px solid var(--divider);
    --input-radius: var(--radius-md);
    --input-padding: var(--space-3) var(--space-4);
    
    /* Button common properties */
    --btn-radius: var(--radius-md);
    --btn-padding: var(--space-3) var(--space-5);
    --btn-font-weight: 500;
    
    /* Common transitions */
    --transition-colors: color var(--duration-fast) var(--ease-out), 
                         background-color var(--duration-fast) var(--ease-out),
                         border-color var(--duration-fast) var(--ease-out);
    --transition-transform: transform var(--duration-fast) var(--ease-out);
    --transition-all: all var(--duration-normal) var(--ease-out);

    /* Garden Engine - Dynamic Time & Season Variables */
    --time-brightness: 1;
    --time-saturation: 1;
    --time-hue-shift: 0deg;
    --shadow-opacity: 0.3;
    --shadow-length: 4px;
    --shadow-angle: 45deg;
    --celestial-offset: 0px;
    /* Offset for celestial bodies on mobile */

    /* Mobile layout metrics (overridden by JS when available) */
    --mobile-tab-bar-height: 0px;
    --mobile-home-stats-height: 0px;

    /* Seasonal colors (defaults to current) */
    --seasonal-accent: var(--sage);
    --seasonal-bg: var(--bg-base);
    --seasonal-flower: var(--petal);
    --seasonal-secondary: var(--teal);
}

/* ===================================
   Dark Mode Text Colors

   Strategy: Adapt text color based on background brightness
   - Dark mode → dark UI with light text (consistent)
   - Light mode + time-night → light text (dark sky)
   =================================== */

/* Dark mode base → dark UI with light text */
:root.dark-mode {
    --surface-0: #0B1624;
    --surface-1: #111E2D;
    --surface-2: #16243A;
    --divider: rgba(255, 255, 255, 0.10);

    --bg-base: #0B1624;
    --bg-elevated: #111E2D;
    --bg-surface: rgba(17, 30, 45, 0.82);
    --bg-hover: rgba(24, 40, 58, 0.86);
    --bg-active: rgba(32, 52, 74, 0.90);

    --glass-bg: rgba(12, 22, 36, 0.72);
    --glass-border: rgba(140, 183, 217, 0.18);
    --glass-shine: rgba(180, 210, 240, 0.10);
    
    /* Rainbow accents for dark mode - softer, lighter versions */
    --accent-button: #8CB7D9;  /* Sky blue for buttons */
    --accent-active: #6F9B86;  /* Sage green for active states */
    --accent-border: #7DD3FC;  /* Light sky for borders */
    --accent-highlight: #FB7185;  /* Rose pink for highlights */
    --accent-link: #818CF8;  /* Indigo for links */
    --accent-badge: #E77D3E;  /* Sunset orange for badges */
    --accent-progress: #6EE7B7;  /* Mint for progress */
    --accent-icon: #8B5CF6;  /* Violet for icons */

    --text-primary: rgba(255, 255, 255, 0.95);
    --text-secondary: rgba(255, 255, 255, 0.75);
    --text-tertiary: rgba(255, 255, 255, 0.60);
    --text-ghost: rgba(255, 255, 255, 0.45);

    --shadow-xs: 0 1px 3px rgba(0, 0, 0, 0.45);
    --shadow-sm: 0 4px 14px rgba(0, 0, 0, 0.55);
    --shadow-md: 0 10px 30px rgba(0, 0, 0, 0.62);
    --shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.68);
    --shadow-xl: 0 36px 90px rgba(0, 0, 0, 0.74);

    --month-card-bg: rgba(17, 30, 45, 0.30);
    --month-card-bg-hover: rgba(24, 40, 58, 0.42);
    --month-card-past-grey: rgba(120, 140, 160, 0.12);
    --month-card-past-grey-hover: rgba(120, 140, 160, 0.18);

    /* Keep dark mode component surfaces consistent */
    --card-bg: var(--glass-bg);
    --card-border: 1px solid var(--glass-border);
    --input-bg: var(--bg-surface);
    --input-border: 1px solid var(--glass-border);
}

/* Time-of-day UI tuning (light mode): soften glass + shadows for transition periods */
:root.time-dawn:not(.dark-mode) {
    --glass-border: rgba(155, 180, 175, 0.12);
    --shadow-glow: 0 0 20px rgba(232, 200, 216, 0.10);
}

:root.time-morning:not(.dark-mode) {
    --glass-border: rgba(135, 170, 185, 0.12);
}

:root.time-afternoon:not(.dark-mode) {
    --glass-border: rgba(74, 144, 226, 0.10);
}

:root.time-evening:not(.dark-mode) {
    --glass-border: rgba(194, 120, 78, 0.12);
    --shadow-glow: 0 0 18px rgba(255, 179, 71, 0.10);
}

/* Time-of-day palettes (dark mode): keep UI dark, shift undertones */
:root.dark-mode.time-dawn {
    --bg-base: #0E1322;
    --bg-elevated: #161B2F;
    --bg-surface: rgba(22, 27, 47, 0.86);
    --bg-hover: rgba(30, 36, 58, 0.88);
    --bg-active: rgba(38, 46, 72, 0.90);

    --glass-bg: rgba(14, 18, 34, 0.76);
    --glass-border: rgba(217, 140, 183, 0.18);
    --glass-shine: rgba(255, 220, 245, 0.06);
}

:root.dark-mode.time-morning {
    --bg-base: #0B1828;
    --bg-elevated: #10233A;
    --bg-surface: rgba(16, 35, 58, 0.86);
    --bg-hover: rgba(22, 46, 74, 0.88);
    --bg-active: rgba(30, 60, 92, 0.90);

    --glass-bg: rgba(11, 24, 40, 0.76);
    --glass-border: rgba(140, 183, 217, 0.18);
    --glass-shine: rgba(180, 210, 240, 0.08);
}

:root.dark-mode.time-afternoon {
    --bg-base: #081727;
    --bg-elevated: #0D2238;
    --bg-surface: rgba(13, 34, 56, 0.88);
    --bg-hover: rgba(18, 44, 70, 0.90);
    --bg-active: rgba(26, 60, 92, 0.92);

    --glass-bg: rgba(9, 20, 36, 0.78);
    --glass-border: rgba(140, 183, 217, 0.20);
    --glass-shine: rgba(180, 210, 240, 0.06);
}

:root.dark-mode.time-evening {
    --bg-base: #190F0D;
    --bg-elevated: #241610;
    --bg-surface: rgba(36, 22, 16, 0.86);
    --bg-hover: rgba(48, 30, 22, 0.88);
    --bg-active: rgba(62, 40, 28, 0.90);

    --glass-bg: rgba(22, 14, 10, 0.76);
    --glass-border: rgba(231, 125, 62, 0.18);
    --glass-shine: rgba(255, 210, 180, 0.06);
}
