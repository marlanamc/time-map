/* ===================================
   The Garden Fence - Optimistic UI
   Focusing on Boundaries & Blooms
   =================================== */

/* CSS Variables */
:root {
    /* Base colors - Soft Natural Palette */
    --bg-base: #E2DFD8;
    /* soft warm linen */
    --bg-elevated: #DBD8D1;
    /* warm stone */
    --bg-surface: rgba(242, 240, 236, 0.80);
    /* gentle cream */
    --bg-hover: #D5D1CA;
    /* light taupe */
    --bg-active: #CAC5BC;
    /* soft sand */

    /* Glass effects - Soft & Gentle */
    --glass-bg: rgba(245, 243, 240, 0.75);
    --glass-border: rgba(90, 140, 140, 0.20);
    --glass-shine: rgba(255, 255, 255, 0.4);

    /* Text hierarchy - Optimized for day mode (dark text on light backgrounds) */
    --text-primary: #0D1517;
    /* near black for maximum readability */
    --text-secondary: #3D4F54;
    /* dark gray for secondary content */
    --text-tertiary: #5A6B70;
    /* medium gray for tertiary content */
    --text-ghost: #7A8B90;
    /* subtle gray for hints/metadata */

    /* Daylight Garden Colors (Vibrant Primary) */
    --sage: #5A9B8D;
    /* saturated leaf green */
    --teal: #4A9099;
    /* primary garden blue */
    --clay: #C06C52;
    /* keeping a hint of clay for contrast */
    --terracotta: var(--clay);
    /* legacy alias (used in gradients/themes) */
    --earth: var(--clay);
    /* legacy alias (used in a few components) */
    --sky: #8CB7D9;
    /* legacy alias (used in accent themes) */
    --sunset: #E77D3E;
    /* vibrant orange spice (DMC 722) */
    --petal: #E59AA0;
    /* bright floral pink */
    --amber: #F4A460;
    /* bright sunlight */

    /* Brand accents - Default day mode values */
    --accent: var(--teal);  /* Fallback to teal if no theme selected */
    --accent-hover: #5AAAB2;
    --accent-muted: rgba(74, 144, 153, 0.16);
    --accent-subtle: rgba(74, 144, 153, 0.08);

    /* Month card transparency */
    --month-card-bg: rgba(245, 243, 240, 0.34);
    --month-card-bg-hover: rgba(245, 243, 240, 0.48);
    --month-card-past-grey: rgba(160, 160, 160, 0.12);
    --month-card-past-grey-hover: rgba(160, 160, 160, 0.18);

    /* Semantic colors */
    --success: #5A9B8D;
    --success-muted: rgba(90, 155, 141, 0.12);
    --warning: var(--sunset);
    --warning-muted: rgba(244, 162, 97, 0.12);
    --danger: var(--clay);
    --danger-muted: rgba(192, 108, 82, 0.12);
    --info: #4A90E2;
    /* primary blue */
    --info-muted: rgba(74, 144, 226, 0.12);

    /* Category colors */
    --cat-career: #4A90E2;
    /* Primary Blue */
    --cat-career-muted: rgba(74, 144, 226, 0.12);
    --cat-health: #5A9B8D;
    /* Primary Green */
    --cat-health-muted: rgba(90, 155, 141, 0.12);
    --cat-finance: var(--amber);
    /* Primary Yellow */
    --cat-finance-muted: rgba(240, 180, 41, 0.12);
    --cat-personal: var(--petal);
    --cat-personal-muted: rgba(229, 154, 160, 0.12);
    --cat-creative: #9F7AEA;
    /* Vibrant Purple */
    --cat-creative-muted: rgba(159, 122, 234, 0.12);

    /* Priority indicators */
    --priority-low: var(--text-tertiary);
    --priority-medium: var(--teal);
    --priority-high: var(--sunset);
    --priority-urgent: var(--clay);

    /* Spacing scale */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;

    /* Border radius - Softened */
    --radius-sm: 8px;
    --radius-md: 16px;
    --radius-lg: 24px;
    --radius-xl: 32px;
    --radius-full: 9999px;

    /* Transitions */
    --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
    --duration-fast: 150ms;
    --duration-normal: 250ms;
    --duration-slow: 400ms;

    /* Shadows */
    /* Shadows - Softened */
    --shadow-xs: 0 2px 4px rgba(33, 55, 44, 0.12);
    --shadow-sm: 0 4px 12px rgba(33, 55, 44, 0.12);
    --shadow-md: 0 12px 24px rgba(33, 55, 44, 0.12);
    --shadow-lg: 0 20px 40px rgba(33, 55, 44, 0.14);
    --shadow-xl: 0 32px 80px rgba(33, 55, 44, 0.16);
    --shadow-glow: 0 0 24px rgba(111, 155, 134, 0.22);
    --shadow-glow-sm: 0 0 12px rgba(111, 155, 134, 0.16);

    /* Typography */
    --font-sans:
        "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
        sans-serif;
    --font-mono: "JetBrains Mono", "SF Mono", Monaco, monospace;
    --font-display: 'Lexend', var(--font-sans);

    /* Font sizes */
    --text-xs: 0.6875rem;
    --text-sm: 0.8125rem;
    --text-base: 0.9375rem;
    --text-lg: 1.0625rem;
    --text-xl: 1.25rem;
    --text-2xl: 1.5rem;
    --text-3xl: 2rem;

    /* ===========================================
       Common Pattern Utilities
       =========================================== */
    
    /* Card styles */
    --card-bg: var(--glass-bg);
    --card-border: 1px solid var(--glass-border);
    --card-radius: var(--radius-lg);
    --card-shadow: var(--shadow-sm);
    --card-padding: var(--space-4);
    
    /* Interactive element states */
    --focus-ring: 0 0 0 2px var(--accent-muted);
    --focus-ring-offset: 0 0 0 4px var(--bg-base);
    
    /* Section spacing */
    --section-gap: var(--space-6);
    --item-gap: var(--space-3);
    
    /* Input styles */
    --input-bg: var(--bg-surface);
    --input-border: 1px solid var(--glass-border);
    --input-radius: var(--radius-md);
    --input-padding: var(--space-3) var(--space-4);
    
    /* Button common properties */
    --btn-radius: var(--radius-md);
    --btn-padding: var(--space-3) var(--space-5);
    --btn-font-weight: 500;
    
    /* Common transitions */
    --transition-colors: color var(--duration-fast) var(--ease-out), 
                         background-color var(--duration-fast) var(--ease-out),
                         border-color var(--duration-fast) var(--ease-out);
    --transition-transform: transform var(--duration-fast) var(--ease-out);
    --transition-all: all var(--duration-normal) var(--ease-out);

    /* Garden Engine - Dynamic Time & Season Variables */
    --time-brightness: 1;
    --time-saturation: 1;
    --time-hue-shift: 0deg;
    --shadow-opacity: 0.3;
    --shadow-length: 4px;
    --shadow-angle: 45deg;
    --celestial-offset: 0px;
    /* Offset for celestial bodies on mobile */

    /* Mobile layout metrics (overridden by JS when available) */
    --mobile-tab-bar-height: 0px;
    --mobile-home-stats-height: 0px;

    /* Seasonal colors (defaults to current) */
    --seasonal-accent: var(--sage);
    --seasonal-bg: var(--bg-base);
    --seasonal-flower: var(--petal);
    --seasonal-secondary: var(--teal);
}

/* ===================================
   Dark Mode Text Colors

   Strategy: Adapt text color based on background brightness
   - Dark mode → dark UI with light text (consistent)
   - Light mode + time-night → light text (dark sky)
   =================================== */

/* Dark mode base → dark UI with light text */
:root.dark-mode {
    --bg-base: #0B1624;
    --bg-elevated: #111E2D;
    --bg-surface: rgba(17, 30, 45, 0.82);
    --bg-hover: rgba(24, 40, 58, 0.86);
    --bg-active: rgba(32, 52, 74, 0.90);

    --glass-bg: rgba(12, 22, 36, 0.72);
    --glass-border: rgba(140, 183, 217, 0.18);
    --glass-shine: rgba(180, 210, 240, 0.10);

    --text-primary: rgba(255, 255, 255, 0.95);
    --text-secondary: rgba(255, 255, 255, 0.75);
    --text-tertiary: rgba(255, 255, 255, 0.60);
    --text-ghost: rgba(255, 255, 255, 0.45);

    --shadow-xs: 0 1px 3px rgba(0, 0, 0, 0.45);
    --shadow-sm: 0 4px 14px rgba(0, 0, 0, 0.55);
    --shadow-md: 0 10px 30px rgba(0, 0, 0, 0.62);
    --shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.68);
    --shadow-xl: 0 36px 90px rgba(0, 0, 0, 0.74);

    --month-card-bg: rgba(17, 30, 45, 0.30);
    --month-card-bg-hover: rgba(24, 40, 58, 0.42);
    --month-card-past-grey: rgba(120, 140, 160, 0.12);
    --month-card-past-grey-hover: rgba(120, 140, 160, 0.18);
}

/* Time-of-day UI tuning (light mode): soften glass + shadows for transition periods */
:root.time-dawn {
    --bg-surface: rgba(235, 228, 232, 0.80);
    --glass-bg: rgba(237, 230, 234, 0.75);
    --glass-border: rgba(184, 140, 160, 0.20);
    --shadow-sm: 0 4px 12px rgba(33, 55, 44, 0.10);
    --shadow-md: 0 12px 24px rgba(33, 55, 44, 0.10);
    --shadow-glow: 0 0 24px rgba(232, 200, 216, 0.15);
}

:root.time-morning {
    --bg-surface: rgba(225, 233, 237, 0.80);
    --glass-bg: rgba(229, 237, 242, 0.74);
    --glass-border: rgba(135, 206, 235, 0.18);
    --shadow-sm: 0 4px 12px rgba(33, 55, 44, 0.10);
    --shadow-md: 0 12px 24px rgba(33, 55, 44, 0.10);
}

:root.time-afternoon {
    --bg-surface: rgba(223, 231, 239, 0.80);
    --glass-bg: rgba(225, 235, 242, 0.72);
    --glass-border: rgba(74, 144, 226, 0.16);
    --shadow-sm: 0 4px 12px rgba(33, 55, 44, 0.12);
    --shadow-md: 0 12px 24px rgba(33, 55, 44, 0.12);
}

:root.time-evening {
    --bg-surface: rgba(239, 233, 225, 0.80);
    --glass-bg: rgba(242, 237, 229, 0.75);
    --glass-border: rgba(255, 140, 66, 0.18);
    --shadow-sm: 0 4px 12px rgba(70, 40, 20, 0.14);
    --shadow-md: 0 12px 24px rgba(70, 40, 20, 0.14);
    --shadow-glow: 0 0 20px rgba(255, 179, 71, 0.15);
}

/* Time-of-day palettes (dark mode): keep UI dark, shift undertones */
:root.dark-mode.time-dawn {
    --bg-base: #0E1322;
    --bg-elevated: #161B2F;
    --bg-surface: rgba(22, 27, 47, 0.86);
    --bg-hover: rgba(30, 36, 58, 0.88);
    --bg-active: rgba(38, 46, 72, 0.90);

    --glass-bg: rgba(14, 18, 34, 0.76);
    --glass-border: rgba(217, 140, 183, 0.18);
    --glass-shine: rgba(255, 220, 245, 0.06);
}

:root.dark-mode.time-morning {
    --bg-base: #0B1828;
    --bg-elevated: #10233A;
    --bg-surface: rgba(16, 35, 58, 0.86);
    --bg-hover: rgba(22, 46, 74, 0.88);
    --bg-active: rgba(30, 60, 92, 0.90);

    --glass-bg: rgba(11, 24, 40, 0.76);
    --glass-border: rgba(140, 183, 217, 0.18);
    --glass-shine: rgba(180, 210, 240, 0.08);
}

:root.dark-mode.time-afternoon {
    --bg-base: #081727;
    --bg-elevated: #0D2238;
    --bg-surface: rgba(13, 34, 56, 0.88);
    --bg-hover: rgba(18, 44, 70, 0.90);
    --bg-active: rgba(26, 60, 92, 0.92);

    --glass-bg: rgba(9, 20, 36, 0.78);
    --glass-border: rgba(140, 183, 217, 0.20);
    --glass-shine: rgba(180, 210, 240, 0.06);
}

:root.dark-mode.time-evening {
    --bg-base: #190F0D;
    --bg-elevated: #241610;
    --bg-surface: rgba(36, 22, 16, 0.86);
    --bg-hover: rgba(48, 30, 22, 0.88);
    --bg-active: rgba(62, 40, 28, 0.90);

    --glass-bg: rgba(22, 14, 10, 0.76);
    --glass-border: rgba(231, 125, 62, 0.18);
    --glass-shine: rgba(255, 210, 180, 0.06);
}
